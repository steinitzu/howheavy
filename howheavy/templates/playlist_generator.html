{% extends "layout.html" %}
{% block content %}
    {{ super() }}

    <meta id="spotify_access_token" data="{{token}}" />

    <form class="form" action="{{ url_for('playlist_generator') }}" method="POST" name="form">
        {{ form.hidden_tag() }}<br/>
        <div class="container-fluid">
            {% for field_set in form.tuneable_fields | batch(2) %}
                {% set element_id = field_set[0]['name'][3:] %}
                {{ render_range_slider(field_set, field_set[0].label, element_id) }}
            {% endfor %}
        </div>
        <div class="container-fluid time_range">
            <div class="row">
                <div class="col-lg-4 col-md-6 col-sm-8 col-xs-9">
                    <label>Time range for top artists</label>
                </div>
            </div>
            <div class="row">
                <div class=" form-group col-lg-4 col-md-6 col-sm-8 col-xs-9">
                    {% for field in form.time_range_fields %}
                        <label>
                            {{ field }} {{ field.label.text|safe }}
                        </label>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row">
                <div class=" form-group col-lg-4 col-md-6 col-sm-8 col-xs-9">
                    <label>
                        {{ form.use_followed_artists }} {{ form.use_followed_artists.label.text|safe }}
                    </label>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row">
                <div class="form-group col-lg-4 col-md-6 col-sm-8 col-xs-9">
                    <button class="btn btn-primary" type="submit">Create playlist!</button>
                </div>
            </div>
        </div>
    </form>
    <div id="slider"></div>
    <script>


    </script>
{% endblock %}


{% block scripts %}
    {{ super() }}
    <script src="{{ url_for('static', filename='scripts/playlist_generator.js') }}"></script>

{% endblock %}
